package BlancanievesSieteEnanitos;

public class Casa {
	private int cantSillas;
	private int sillasOcupadas;
	Blancanieves blancanieves;
	
	public Casa(int cantSillas,Blancanieves b){
		this.sillasOcupadas = 0;
		this.cantSillas = cantSillas;
		this.blancanieves = b;
	}
	
	public synchronized void sentarseAComer(Enanito e1) {
		while(sillasOcupadas >= cantSillas) {
			System.out.println("El enanito " + Thread.currentThread().getId() + " no encontro lugar");
			try {
				this.wait();
			} catch (InterruptedException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
		}
		System.out.println("El enanito " + Thread.currentThread().getId() + " se sento y esta esperando por la comida");
		this.sillasOcupadas++;
		blancanieves.avisar(e1);
	}
	
	public synchronized void liberarAsiento() {
		System.out.println("El enanito " + Thread.currentThread().getId() + " libero un asiento");
		this.notifyAll();
		this.sillasOcupadas--;
	}

}
